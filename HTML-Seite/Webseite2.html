<html>
    <body style="background-color:#02285E">
    <head>
        <h6>
            <font face="Calibri" color=#ffffff>
            <pre><h3>Marc Stoppelkamp, Bastien Hanel                                                                                Documentation der HTML Seite                                                                                                  FS-22D</h3></pre>
            
        </h6>

        <title>
            HTML docu.doc
        </title>

    </head>
    <table border="2" cellpadding="10">
        <tr>
            <td><a href="./Webseite1.html"><font color=#00ff00>Python Code</font></a></td>
        </tr>
    </table>
    <table border="2" cellpadding="10">
        <tr>
            <td><a href="./temp.html"><font color=#00ff00>Temperatursensor</font></a></td>
        </tr>
    </table>

                        <body>
                                                        <pre style="background-color: #454545; padding: 1px;"><code>

                        
                        <pre>
&lt;<font color=#00ff00>html</font>&gt;
    &lt;<font color=#00ff00>body</font> <font color=#006ecc>style</font>="<font color=#add8e6>background-color:#02285E</font>"&gt;
    &lt;<font color=#00ff00>head</font>&gt;
        &lt;<font color=#00ff00>h6</font>&gt;
            &lt;<font color=#00ff00>font</font> <font color=#006ecc>face</font>="Calibri" <font color=#006ecc>color</font>=#ffffff&gt;
            &lt;<font color=#00ff00>pre</font>&gt;&lt;<font color=#00ff00>h3</font>&gt;Marc Stoppelkamp, Bastien Hanel                           Documentation Temperatursensor                                                                         FS-22D</h3></pre>
            
        &lt;<font color=#00ff00>/h6</font>&gt;

        &lt;<font color=#00ff00>title</font>&gt;
            Tempsensor.doc
        &lt;<font color=#00ff00>/title</font>&gt;

    &lt;<font color=#00ff00>/head</font>&gt;


            &lt;<font color=#00ff00>body</font>&gt;&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#ffffff&gt;
                &lt;<font color=#00ff00>h2</font>&gt;Dokumentation:&lt;<font color=#00ff00>/h2</font>&gt;
                In dieser Dokumentation beschreiben wir die Installation des Apacheservers und des Temperatursensors.
                &lt;<font color=#00ff00>/font</font>&gt;
                




                 
                &lt;<font color=#00ff00>pre</font> <font color=#006ecc>style</font>="background-color: #454545; padding: 1px;"&gt;&lt;<font color=#00ff00>code</font>&gt;       

&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#ffffff&gt;
&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;import&lt;/<font color=#00ff00>font</font>&gt; adafruit_dht
&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;import&lt;/<font color=#00ff00>font</font>&gt; board
&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;import&lt;/<font color=#00ff00>font</font>&gt; time
&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;from&lt;/<font color=#00ff00>font</font>&gt; datetime &lt;font <font color=#006ecc>color</font>=#c60000&gt;import&lt;/font&gt; datetime

&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;def&lt;/<font color=#00ff00>font</font>&gt; &lt;font <font color=#006ecc>color</font>=#B86CD6&gt;read_dht_sensor&lt;/font&gt;(pin):
    &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#b5b5b5&gt;# DHT-Sensor initialisieren&lt;/<font color=#00ff00>font</font>&gt;
    dht_sensor = adafruit_dht.&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#ffa600&gt;DHT11&lt;/<font color=#00ff00>font</font>&gt;(pin)

    &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#b5b5b5&gt;# Liste für die Speicherung der letzten 2 Einträge &lt;/<font color=#00ff00>font</font>&gt;
    data &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#006ecc&gt;=&lt;/<font color=#00ff00>font</font>&gt; []

    &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;while&lt;/<font color=#00ff00>font</font>&gt; &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#006ecc&gt;True&lt;/<font color=#00ff00>font</font>&gt;:
        &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;try&lt;/<font color=#00ff00>font</font>&gt;:
        &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#b5b5b5&gt;# Temperatur und Luftfeuchtigkeit auslesen&lt;/<font color=#00ff00>font</font>&gt;
            temperature_c &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#006ecc&gt;=&lt;/<font color=#00ff00>font</font>&gt; dht_sensor.temperature
            humidity &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#006ecc&gt;=&lt;/<font color=#00ff00>font</font>&gt; dht_sensor.humidity

            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#b5b5b5&gt;# Werte und Uhrzeit zur Liste hinzufügen&lt;/<font color=#00ff00>font</font>&gt;
            data.&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#B86cD6&gt;append&lt;/<font color=#00ff00>font</font>&gt;&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt;'&lt;div style="background-color:gray; width:100%; height:20%; position:relative;"&gt;
                &lt;div style="background-color:red; width:&lt;/<font color=#00ff00>font</font>&gt;{temperature_c}&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt;%; height:100%;"&gt;&lt;/div&gt;
                &lt;span style="position:absolute; left:5px; color:white; font-family: URW Gothic Book ;"&gt;&lt;/<font color=#00ff00>font</font>&gt;{temperature_c}
                &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt;°C&lt;/span&gt;&lt;/div&gt;&lt;div style="background-color:gray; width:100%; height:20%; position:relative;"&gt;&lt;div style="background-color:blue; width:&lt;/<font color=#00ff00>font</font>&gt;{humidity}
                &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt;%; height:100%;"&gt;&lt;/div&gt;&lt;span style="position:absolute; left:5px; color:white; font-family: URW Gothic Book ;"&gt;&lt;/<font color=#00ff00>font</font>&gt;
                {humidity}&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt;%&lt;/span&gt;&lt;/div'&gt;&lt;/<font color=#00ff00>font</font>&gt;)


                    

            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#b5b5b5&gt;# Wenn mehr als 2 Einträge in der Liste sind, den ältesten Eintrag entfernen&lt;/<font color=#00ff00>font</font>&gt;
            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;if&lt;/<font color=#00ff00>font</font>&gt; &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#B86cD6&gt;len&lt;/<font color=#00ff00>font</font>&gt;(data) &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#006ecc&gt;&gt; 1&lt;/<font color=#00ff00>font</font>&gt;:
                data.&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#B86cD6&gt;pop&lt;/<font color=#00ff00>font</font>&gt;(&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#006ecc&gt;0&lt;/<font color=#00ff00>font</font>&gt;)

            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#b5b5b5&gt;# HTML-Datei öffnen und die Daten schreiben&lt;/<font color=#00ff00>font</font>&gt;
            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;with&lt;/<font color=#00ff00>font</font>&gt; &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#B86cD6&gt;open&lt;/<font color=#00ff00>font</font>&gt;(&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt;'/var/www/html/output.html'&lt;/<font color=#00ff00>font</font>&gt;,&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt; 'w'&lt;/<font color=#00ff00>font</font>&gt;)
            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;as&lt;/<font color=#00ff00>font</font>&gt; f:
                f.&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#B86cD6&gt;write&lt;/<font color=#00ff00>font</font>&gt;(&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt;'&lt;html&gt;&lt;head&gt;&lt;meta charset="utf-8"&gt;&lt;/head&gt;&lt;body style="background-color:black;"&gt;'&lt;/<font color=#00ff00>font</font>&gt;)
                &lt;<font color=#00ff00>font</font>=#c60000&gt;for&lt;/<font color=#00ff00>font</font>&gt; entry &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#006ecc&gt;in&lt;/<font color=#00ff00>font</font>&gt; data:
                    f.&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#B86cD6&gt;write&lt;/<font color=#00ff00>font</font>&gt;(entry)
                f.&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#B86cD6&gt;write&lt;/<font color=#00ff00>font</font>&gt;(&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt;'/body&gt;/html&gt;'&lt;/<font color=#00ff00>font</font>&gt;)

            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;except&lt;/<font color=#00ff00>font</font>&gt; &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#ffa600&gt;RuntimeError&lt;/<font color=#00ff00>font</font>&gt; &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#c60000&gt;as&lt;/<font color=#00ff00>font</font>&gt; e:
            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#b5b5b5&gt;# Fehlermeldung ausgeben&lt;/<font color=#00ff00>font</font>&gt;
            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#B86cD6&gt;print&lt;/<font color=#00ff00>font</font>&gt;(&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt;'Fehler beim Auslesen des Sensors:&lt;/<font color=#00ff00>font</font>&gt; {e}&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#add8e6&gt;'"&lt;/<font color=#00ff00>font</font>&gt;)

                &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#b5b5b5&gt;# Sensor neu starten&lt;/<font color=#00ff00>font</font>&gt;
                dht_sensor.&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#B86cD6&gt;exit&lt;/<font color=#00ff00>font</font>&gt;()
                dht_sensor &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#006ecc&gt;=&lt;/<font color=#00ff00>font</font>&gt; adafruit_dht.&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#ffa600&gt;DHT11&lt;/<font color=#00ff00>font</font>&gt;(pin)

            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#b5b5b5&gt;# Wartezeit erhöhen&lt;/<font color=#00ff00>font</font>&gt;
            time.&lt;<font color=#00ff00>font</font>=#B86cD6&gt;sleep&lt;/<font color=#00ff00>font</font>&gt;(&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#006ecc&gt;5&lt;/<font color=#00ff00>font</font>&gt;)

            &lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#b5b5b5&gt;# Beispielaufruf der Funktion&lt;/<font color=#00ff00>font</font>&gt;
&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#B86cD6&gt;read_dht_sensor&lt;/<font color=#00ff00>font</font>&gt;(board.&lt;<font color=#00ff00>font</font> <font color=#006ecc>color</font>=#ffa600&gt;D4&lt;/<font color=#00ff00>font</font>&gt;)

&lt;/<font color=#00ff00>font</font>&gt;
                &lt;/<font color=#00ff00>code</font>&gt;&lt;/<font color=#00ff00>pre</font>&gt;

                &lt;/<font color=#00ff00>font</font>&gt;
            &lt;/<font color=#00ff00>body</font>&gt;
        &lt;/<font color=#00ff00>body</font>&gt;
&lt;<font color=#00ff00>html</font>&gt;
</code>






            </body>


</html>